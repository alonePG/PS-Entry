<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö - PS-Entry</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: monospace;
      padding: 16px;
      text-align: center;
      font-size: 12pt;
    }
    .btn {
      padding: 10px 16px;
      font-size: 14pt;
      margin: 8px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn-print {
      background-color: #28a745;
      color: white;
    }
    pre {
      text-align: left;
      font-size: 11pt;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h2>üñ®Ô∏è ‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö</h2>

  <pre id="ticketPreview"></pre>

  <button class="btn btn-print" onclick="printRawBT()">üì§ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ú‡πà‡∏≤‡∏ô RawBT</button>
  <button class="btn" onclick="window.close()">‚ùå ‡∏õ‡∏¥‡∏î</button>

  <script>
    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage
    const data = JSON.parse(localStorage.getItem("lastEntryData") || "{}");

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå
    const printText = `
========================
        PS-Entry
‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏π‡πâ‡∏°‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô : ${data.plate || "-"}
‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà : ${data.house || "-"}
‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå : ${data.purpose || "-"}
‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ : ${data.note || "-"}
‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ : ${data.time || "-"}
‡∏£‡∏õ‡∏†. : ${data.ranger || "-"}

(‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏≠‡∏Å)
========================
    `.trim();

    // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
    document.getElementById("ticketPreview").textContent = printText;

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á RawBT
    function printRawBT() {
      window.location.href = "rawbt:print?text=" + encodeURIComponent(printText);
    }
  </script>
</body>
</html>
